\def\year{2020}\relax
%File: formatting-instruction.tex
\documentclass[letterpaper]{article} % DO NOT CHANGE THIS
\usepackage{aaai20}  % DO NOT CHANGE THIS
\usepackage{times}  % DO NOT CHANGE THIS
\usepackage{helvet} % DO NOT CHANGE THIS
\usepackage{courier}  % DO NOT CHANGE THIS
\usepackage[hyphens]{url}  % DO NOT CHANGE THIS
\usepackage{graphicx} % DO NOT CHANGE THIS
\urlstyle{rm} % DO NOT CHANGE THIS
\def\UrlFont{\rm}  % DO NOT CHANGE THIS
\usepackage{graphicx}  % DO NOT CHANGE THIS
\frenchspacing  % DO NOT CHANGE THIS
\setlength{\pdfpagewidth}{8.5in}  % DO NOT CHANGE THIS
\setlength{\pdfpageheight}{11in}  % DO NOT CHANGE THIS
\usepackage{listings}
\usepackage{xcolor}

% Colors

\definecolor{potcolor}{RGB}{0,62,90}

%\nocopyright
%PDF Info Is REQUIRED.
% For /Author, add all authors within the parentheses, separated by commas. No accents or commands.
% For /Title, add Title in Mixed Case. No accents or commands. Retain the parentheses.
 \pdfinfo{
/Title (Course Project Milestone 3 - Individual Progress Report)
/Author (Claudio Rodriguez)
} %Leave this	
% /Title ()
% Put your actual complete title (no codes, scripts, shortcuts, or LaTeX commands) within the parentheses in mixed case
% Leave the space between \Title and the beginning parenthesis alone
% /Author ()
% Put your actual complete list of authors (no codes, scripts, shortcuts, or LaTeX commands) within the parentheses in mixed case. 
% Each author should be only by a comma. If the name contains accents, remove them. If there are any LaTeX commands, 
% remove them. 

% DISALLOWED PACKAGES
% \usepackage{authblk} -- This package is specifically forbidden
% \usepackage{balance} -- This package is specifically forbidden
% \usepackage{caption} -- This package is specifically forbidden
% \usepackage{color (if used in text)
% \usepackage{CJK} -- This package is specifically forbidden
% \usepackage{float} -- This package is specifically forbidden
% \usepackage{flushend} -- This package is specifically forbidden
% \usepackage{fontenc} -- This package is specifically forbidden
% \usepackage{fullpage} -- This package is specifically forbidden
% \usepackage{geometry} -- This package is specifically forbidden
% \usepackage{grffile} -- This package is specifically forbidden
% \usepackage{hyperref} -- This package is specifically forbidden
% \usepackage{navigator} -- This package is specifically forbidden
% (or any other package that embeds links such as navigator or hyperref)
% \indentfirst} -- This package is specifically forbidden
% \layout} -- This package is specifically forbidden
% \multicol} -- This package is specifically forbidden
% \nameref} -- This package is specifically forbidden
% \natbib} -- This package is specifically forbidden -- use the following workaround:
% \usepackage{savetrees} -- This package is specifically forbidden
% \usepackage{setspace} -- This package is specifically forbidden
% \usepackage{stfloats} -- This package is specifically forbidden
% \usepackage{tabu} -- This package is specifically forbidden
% \usepackage{titlesec} -- This package is specifically forbidden
% \usepackage{tocbibind} -- This package is specifically forbidden
% \usepackage{ulem} -- This package is specifically forbidden
% \usepackage{wrapfig} -- This package is specifically forbidden
% DISALLOWED COMMANDS
% \nocopyright -- Your paper will not be published if you use this command
% \addtolength -- This command may not be used
% \balance -- This command may not be used
% \baselinestretch -- Your paper will not be published if you use this command
% \clearpage -- No page breaks of any kind may be used for the final version of your paper
% \columnsep -- This command may not be used
% \newpage -- No page breaks of any kind may be used for the final version of your paper
% \pagebreak -- No page breaks of any kind may be used for the final version of your paperr
% \pagestyle -- This command may not be used
% \tiny -- This is not an acceptable font size.
% \vspace{- -- No negative value may be used in proximity of a caption, figure, table, section, subsection, subsubsection, or reference
% \vskip{- -- No negative value may be used to alter spacing above or below a caption, figure, table, section, subsection, subsubsection, or reference

\setcounter{secnumdepth}{0} %May be changed to 1 or 2 if section numbers are desired.


% Listings

\lstset{numbers=none,numberblanklines=false,columns=fullflexible,basicstyle=\ttfamily,linewidth=\columnwidth,breaklines=true}

\newcommand{\CodeSymbol}[1]{\bfseries\textcolor{violet}{#1}}   % Code associated to defining styles
\newcommand{\InitColor}[1]{\bfseries\textcolor{red}{#1}}   % Code associated to defining styles
\newcommand{\PairColor}[1]{\bfseries\textcolor{blue}{#1}}   % Code associated to defining styles

\definecolor{codegray}{gray}{0.95}
\definecolor{commentgray}{gray}{0.35}

\makeatletter

\lstdefinelanguage{clingo}{%
  basicstyle=\ttfamily,%
  backgroundcolor=\color{codegray},
  showstringspaces=false,%
  alsoletter=0123456789,%
  keywords=[3]{&,&dom,&sum,&diff,&show},%
  morecomment=[l]{\#\ },%
  morecomment=[l]{\%\ },%
  morestring=[b]",%
  stringstyle={\itshape},%
  commentstyle={\color{commentgray}},%
  literate={init}{{\InitColor{init}}}1
           {pair}{{\PairColor{pair}}}1
           {\#const}{{\CodeSymbol{\#const }}}1
           {\#show}{{\CodeSymbol{\#show }}}1
           {\#minimize}{{\CodeSymbol{\#minimize }}}1
           {\#base}{{\CodeSymbol{\#base }}}1
           {\#theory}{{\CodeSymbol{\#theory }}}1
           {\#count}{{\CodeSymbol{\#count }}}1
           {\#external}{{\CodeSymbol{\#external }}}1
           {\#program}{{\CodeSymbol{\#program }}}1
           {\#script}{{\CodeSymbol{\#script }}}1
           {\#end}{{\CodeSymbol{\#end }}}1
           {\#heuristic}{{\CodeSymbol{\#heuristic }}}1
           {\#edge}{{\CodeSymbol{\#edge }}}1
           {\#project}{{\CodeSymbol{\#project }}}1
           {\#show}{{\CodeSymbol{\#show }}}1
           {\#sum}{{\CodeSymbol{\#sum }}}1%
}

\newcommand\opstyle{\CodeSymbol} % <--- customise operator style here

% Hook into listings
\lst@AddToHook{OutputOther}{\ProcessOther@silmeth}

% helper macro
\newcommand\ProcessOther@silmeth
{%
  \ifnum\lst@mode=\lst@Pmode%     % If we're in `Processing' mode...
    \def\lst@thestyle{\opstyle}%  % ... redefine the style locally
  \fi%
}

\makeatother

\newcommand{\Sim}{{\raise.17ex\hbox{\ensuremath{\scriptstyle\sim}}}}



% The file aaai20.sty is the style file for AAAI Press 
% proceedings, working notes, and technical reports.
%
\setlength\titlebox{2.5in} % If your paper contains an overfull \vbox too high warning at the beginning of the document, use this
% command to correct it. You may not alter the value below 2.5 in
\title{Individual Progress Report\\
Course Project Milestone 3\\
CSE 579: Knowledge Representation and Reasoning}
%Your title must be in mixed case, not sentence case. 
% That means all verbs (including short verbs like be, is, using,and go), 
% nouns, adverbs, adjectives should be capitalized, including both words in hyphenated terms, while
% articles, conjunctions, and prepositions are lower case unless they
% directly follow a colon or long dash
\author{ \\
Written by\\
\Large \textbf{Claudio Rodriguez Rodriguez} \\ 
Arizona State University}

\begin{document}

\maketitle

\section{Problem Statement}

CSE579 includes theory on Answer Set Programming using Clingo to develop solutions for real-world problems. In this project, we will be using these tools to craft a Solution for the Automated Warehouse Scenario from the ASP Challenge 2019. The description of the Scenario is as follows:

\begin{quotation}
A simplified version of automated planning done in Amazon warehouses, this project focuses on an automated warehouse in which robots deliver products to picking stations to fulﬁll orders. A warehouse is represented as a rectangular grid, and the robots can move horizontally or vertically between adjacent cells.\cite{cse579:CourseProject}
\end{quotation}

The overall goal is to fulfill orders presented in the source files from the ASP Challenge 2019 while minimizing the time to perform their actions. We will emphasize representing the problem in Clingo using the lectures relating to Transition Systems and Representing Actions.

\section{Summary of Progress}

We identify the following \textit{fluents}:

\begin{itemize}
    \item Whether Robot has Shelf. \texttt{hasShelf}
    \item Whether Shelf has Product. \texttt{hasProduct}
    \item Locations of: Node, Highways, Shelf, Picking Stations, Robots, Products, and Orders
\end{itemize}

It is worth noting that the location fluents are utility functions that look like the following:

\begin{lstlisting}[numbers=none,language=clingo]
  % Location State that depends on
  % Timestamp
  locationRobot(RobotLocation, object(node, NodeLocation), 0) :-
    init(object(robot, RobotLocation), value(at, pair(X,Y))), locationNode(NodeLocation, pair(X,Y)).
  % Input to Robot Object
  robot(RobotLocation):- init(object(robot, RobotLocation), value(at,pair(X,Y))).
  #show locationRobot/3.
\end{lstlisting}

We identify the following \textit{actions}:

\begin{itemize}
    \item Robot Movement (Only to vertically or horizontally adjacent cells). \texttt{robotMove}
    \item Robot action on Shelf. \texttt{pickUpShelf} and \texttt{putDownShelf}
    \item Robot might not perform an action, which we will represent as \texttt{remainIdle}.
    \item Robot delivers a product. \texttt{robotDeliver}
\end{itemize}

The authors of the Scenario\cite{cse579:AutomatedWarehouseScenario} provide a set of well-documented example inputs. In the same document, we find descriptions for the outputs. 

We will implement the material from Week 5 to obtain the following:

\begin{enumerate}
    \item Sort and object declarations (\textit{fluents}).
    \item State constraints (\textit{actions}).
    \item Effect and preconditions of actions.
    \item Action constraints.
    \item Domain independent axioms.
\end{enumerate}

\subsection{Action Constraints}

\begin{itemize}
    \item One action per timestep.
    \item During a timestep, a robot will do one of the following: \texttt{move}, \texttt{pickUpShelf}, \texttt{putDownShelf}, \texttt{remainIdle}.
    \item Robot can pick only shelf at a time.
    \item Robot needs to be on the same location as the shelf to pick it up.
    \item Shelves and Picking Stations can't be placed on highways.
\end{itemize}

\section{Issues Encountered}

While we have completed mapping all inputs into working objects, parsing the output has been a challenge. It has been useful to use the \texttt{\#show} command to debug the state.

Translating output into pictures as shown in \cite{cse579:AutomatedWarehouseScenario} would increase iterability.
The current approach uses the authors' example and makes sure our process matches the same result.

To resolve these issues, we will take a systemic approach. First, we'll ensure all the inputs have a translation to their respective state variable, and the same goes for the outputs. Once we can generate grids with all the possible values for all the outcomes, we can add constraints.

\section{Completed Tasks}

Taking the Money and Bananas Problem as the base, we complete the following:

\begin{itemize}
    \item Input to Objects.
    \item Robot State Representation.
    \item \texttt{pickUpShelf} and \texttt{putDownShelf} actions.
    \item Robot "occur" based on the move and pick and put actions.
\end{itemize}

\section{Future Work}

\begin{enumerate}
    \item Highway input/output and constraints.
    \item Products input/output and relations to shelf.
    \item Deliver action.
    \item Rest of constraints to match example problem.
    \item Script to translate output into a more visible format.
    \item Minimize step.
\end{enumerate}

Once we have a set of movement actions, we can use Python and PIL to create the same visualization presented in the document during step 5. This scripting will accelerate debugging for all the test cases, which will be essential in making sure our constraints are working correctly. 

\bibliography{cse579}
\bibliographystyle{aaai}

\end{document}
